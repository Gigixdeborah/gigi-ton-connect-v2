<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TON Wallet Sign</title>
    <style>
      body {
        background-color: #000;
        color: #fff;
        font-family: 'Arial', sans-serif;
        text-align: center;
        padding-top: 100px;
      }
      h1 {
        font-size: 24px;
      }
    </style>
  </head>
  <body>
    <h1>ðŸª™ Sign TON Transaction</h1>
    <p>ðŸ”— Preparing transaction...</p>

    <script type="module">
      import { TonConnectUI } from "https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js";

      const urlParams = new URLSearchParams(window.location.search);
      const amount = urlParams.get('amount');
      const to = urlParams.get('to');

      const tonConnectUI = new TonConnectUI({
        manifestUrl: 'https://gigi-ton-connect-v2-deploy.onrender.com/tonconnect-manifest.json'
      });

      const tonConnect = tonConnectUI.tonConnect;

      const transaction = {
        validUntil: Math.floor(Date.now() / 1000) + 600,
        messages: [
          {
            address: to,
            amount: amount,
          }
        ]
      };

      tonConnectUI.sendTransaction(transaction);
    </script>
  </body>
</html>
